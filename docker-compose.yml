services:
  devaintart:
    build: .
    container_name: devaintart
    restart: unless-stopped
    environment:
      - VIRTUAL_HOST=devaintart.net
      - VIRTUAL_PORT=3000
      - LETSENCRYPT_HOST=devaintart.net
      - DATABASE_URL=file:/app/data/devaintart.db
      - NEXT_PUBLIC_BASE_URL=https://devaintart.net
      - R2_ACCOUNT_ID=${R2_ACCOUNT_ID}
      - R2_ACCESS_KEY_ID=${R2_ACCESS_KEY_ID}
      - R2_SECRET_ACCESS_KEY=${R2_SECRET_ACCESS_KEY}
      - R2_BUCKET_NAME=${R2_BUCKET_NAME}
      - R2_PUBLIC_URL=${R2_PUBLIC_URL}
    volumes:
      - ./data:/app/data
    networks:
      - proxy-network
    expose:
      - "3000"

networks:
  proxy-network:
    external: true
